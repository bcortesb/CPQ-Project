(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7638:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return s(3167)}])},3167:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var l=s(5893),r=s(7294),a=s(9669),c=s.n(a);function n(e){let{product:t,onSave:s}=e,[a,n]=(0,r.useState)(t?t.name:""),[d,o]=(0,r.useState)(t?t.price:""),[i,u]=(0,r.useState)(t?t.description:""),h=async e=>{e.preventDefault();let l={name:a,price:d,description:i};try{t?await c().put("http://localhost:8000/products/".concat(t.id),l):await c().post("http://localhost:8000/products",l),s()}catch(e){console.error("Error saving product:",e)}};return(0,l.jsxs)("form",{onSubmit:h,className:"bg-white p-6 rounded shadow-md w-full max-w-sm",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:t?"Edit Product":"Add Product"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Name"}),(0,l.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded",value:a,onChange:e=>n(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Price"}),(0,l.jsx)("input",{type:"number",className:"w-full px-3 py-2 border rounded",value:d,onChange:e=>o(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Description"}),(0,l.jsx)("textarea",{className:"w-full px-3 py-2 border rounded",value:i,onChange:e=>u(e.target.value),required:!0})]}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Save"})]})}function d(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(null),[d,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await c().get("http://localhost:8000/products");t(e.data)}catch(e){console.error("Error fetching products:",e)}},u=e=>{a(e),o(!0)};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-100 p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Products"}),(0,l.jsx)("button",{onClick:()=>{a(null),o(!0)},className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Add Product"})]}),d?(0,l.jsx)(n,{product:s,onSave:()=>{o(!1),i()}}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:e.name}),(0,l.jsx)("p",{children:e.description}),(0,l.jsxs)("p",{className:"text-gray-700",children:["$",e.price.toFixed(2)]}),(0,l.jsx)("button",{onClick:()=>u(e),className:"mt-2 bg-yellow-500 text-white py-1 px-2 rounded hover:bg-yellow-600",children:"Edit"})]},e.id))})]})}s(1664)}},function(e){e.O(0,[669,888,774,179],function(){return e(e.s=7638)}),_N_E=e.O()}]);